/*
 * movinwords v1.0.0 - Add animation to your words and sentences tags.
 * Copyright (c) 2021 Ignacio Revuelta
 */
!function(e,t){"function"==typeof define&&define.amd?define(["module","exports"],t):"undefined"!=typeof exports?t(module,exports):(t(t={exports:{}},t.exports),e.movinwords=t.exports)}(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,a=arguments[t];for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=(function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}(i,[{key:"parseSentences",value:function(){var t=this;document.querySelectorAll(this.options.el).forEach(function(e){e.classList.add(t.classNames.base),e.classList.add(t.options.transition),t.createAndAppendWordTags(e),t.createAndAppendLetterTags(e),setTimeout(function(){e.style.setProperty("--mw-duration",t.options.duration+"ms"),e.style.setProperty("--mw-delay",t.options.delay+"ms"),e.classList.add("--visible"),delete e.dataset[t.classNames.base]},500)})}},{key:"createAndAppendWordTags",value:function(e){var t=this.createWordTags(e);this.appendTags(e,t)}},{key:"createAndAppendLetterTags",value:function(e){var r=this;e.querySelectorAll("."+this.classNames.word).forEach(function(e,t){t=r.createLetterTags(e,t+1);r.appendTags(e,t)})}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isEmptyArray",value:function(e){if(Array.isArray(e)&&e)return!e.length}},{key:"isHighlightedWord",value:function(e){var t=this.options.highlight.matches;return t&&!this.isEmptyArray(t)&&t.includes(e)}},{key:"createTag",value:function(e){var t,r=document.createElement(e.tag);for(t in r.className=e.className,r.innerText=e.text,e.vars)r.style.setProperty("--mw-"+t,e.vars[t]);return r}},{key:"appendTags",value:function(e,t){var r=!(e.innerHTML=""),a=!1,n=void 0;try{for(var i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var s=s.value;e.appendChild(s)}}catch(e){a=!0,n=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}},{key:"getWordsArray",value:function(e){return e.innerText.trim().split(" ")}},{key:"getLettersArray",value:function(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.innerText))}},{key:"createWordTags",value:function(e){var t=[],r=this.getWordsArray(e),a=!0,n=!1,i=void 0;try{for(var s=r[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var o=u.value,l="span",u=this.classNames.word;this.isHighlightedWord(o)&&(u+=" "+this.options.highlight.classname,l=this.options.highlight.tag),t.push(this.createTag({tag:l,className:u,text:o}))}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t}},{key:"createLetterTags",value:function(e,t){var r=[],a=this.getLettersArray(e),n=!0,i=!1,s=void 0;try{for(var o=a.entries()[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){var l=c(u.value,2),u=l[0],l=l[1];r.push(this.createTag({tag:"span",className:""+this.classNames.letter,text:l,vars:{w:t,l:u}}))}}catch(e){i=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw s}}return r}}]),i);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.classNames={base:"mw",word:"mw-word",letter:"mw-letter"},this.options=r({duration:1e3,delay:0,transition:"fadeIn",highlight:{classname:"highlight",tag:"strong",matches:[]}},e),this.parseSentences()}t.default=n,e.exports=t.default});